<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>连连看</title>
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <style>
    .bg-contents { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: url(bg/bg.jpg); background-size: 100% 100%; }
    .loading{ position: absolute; width: 80%; height: 12rem; text-align: center; top: 0; left: 0; bottom: 0;right: 0; color: #fff; margin: auto;}
    .img{visibility: hidden;}
  </style>
</head>
<body>
  <div class="bg-contents">
    <div class="loading">
        <h3>正在加载</h3>
        <div class="progress">
          <div class="progress-bar progress-bar-warning progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span class="sr-only"></span>
          </div>
        </div>
        <div class="img">
          
        </div>
    </div>
  </div>
</body>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>
  $(function() {
    
    let img = [
      "1.png","2.png","3.png","4.png","5.png","add_one.png","aword.png","bg-content.png","bg-rank.png",
      "bg-score.png","bg.jpg","boom-boom.png","boom.png","close.png","coin_bg.jpg","dw_bg.jpg","fail-text.png",
      "first-bg.png","frozen.png","game-over.png","hourglass.png","id.png","info.png","lock.png","love_bg.jpg",
      "pause.png","play-again.png","point-1.png","point-2.png","point-4.png","point-5.png","point-6.png",
      "point-7.png","point-8.png","point-9.png","point-text-end.png","point-text-first.png","point-text.png",
      "rank-bg.png","rank-text-2.png","rank-text.png","refresh.png","score-text.png","score.png","sc_bg.jpg",
      "second-bg.png","sg_bg.jpg","socre-text.png","start-active.png","start-unactive.png","start.png",
      "third-bg.png","time-full.png","time-move.png","time.png","timg.png","tip.png","user-32px.png",
      "victore-text.png","view-rank.png",
      "img/0.png","img/1.png","img/2.png","img/3.png","img/4.png","img/5.png","img/6.png","img/7.png","img/8.png",
      "img/9.png","img/10.png","img/11.png","img/12.png","img/13.png","img/14.png","img/15.png","img/16.png",
      "img/17.png","img/18.png","img/19.png","img/20.png","img/21.png","img/22.png"
    ];
    let index = 0;
    for(let i = 0; i < img.length; i ++) {
      let image = new Image();
      let src = "http://www.lrans.xin/html/" + img[i];
      image.src = src;
      image.onload = function() {
        index ++;
        $(".img").append(`<img src="${src}">`)
      }
    }

    let timer = setInterval(() => {
      if(index == img.length) {
        console.log("done")
        clearInterval(timer);
        window.location.href="/html/home.html"
      }
    }, 1000);
  })
</script>
</html>